<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player</title>
    <script src="//cdn.jsdelivr.net/npm/@clappr/player@0.6.0/dist/clappr.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/gh/clappr/clappr-level-selector-plugin@0.3.0/dist/level-selector.min.js"></script>
    <script src="/histats.js"></script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: black;
        }
        #player, #videoIframe {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }
        .hidden {
            display: none;
        }
        /* Menimpa gaya poster Clappr untuk menjaga proporsi */
        .player-poster[data-poster] {
            background-size: contain !important; /* Menjaga rasio aspek poster */
            background-color: black !important; /* Warna latar belakang hitam */
        }
    </style>

    <!--<script data-cfasync="false" type='text/javascript' src='//pl123456.puhtml.com/82/6d/f3/826df33e1880e1ab086c8406879dc14e.js'></script>-->
    <!--<script type='text/javascript' src='//disappearsurgery.com/93/c9/e1/93c9e1602f4c05da2a587d287c363a0e.js'></script>-->
    <script disable-devtool-auto src="https://cdn.jsdelivr.net/npm/disable-devtool"></script>
	
</head>
<body>

    <!-- Container untuk Clappr Player -->
    <div id="player" class="hidden"></div>

    <!-- Container untuk Iframe -->
    <iframe id="videoIframe" class="hidden" src="" frameborder="0" allowfullscreen scrolling="no" 
        sandbox="allow-same-origin allow-scripts allow-forms allow-pointer-lock allow-top-navigation"
        allow="encrypted-media; autoplay">
    </iframe>

    <script>
        // Daftar sumber video (tanpa perlu menentukan tipe)
        const sources = {
<!-- Awal Data -->
'C58RhEEznQ': 'https://5ca4f52c935edfcf07404a620c03d12a.v.smtcdns.net/203.205.136.12/play.cbalive.weibisai.com/live/3836511870947061_AiSD.m3u8?txSecret=54a2c61d59f6c79a0104c23ba4f8b1e2&txTime=67C939E0',
'DEBGoQxviA': 'https://5ca4f52c935edfcf07404a620c03d12a.v.smtcdns.net/203.205.136.12/play.cbalive.weibisai.com/live/3836512069623061_AiSD.m3u8?txSecret=79649e7c5ec71cb31e77ac74dd9d78e1&txTime=67C939E0',
'APmrev9Qg0': 'https://5ca4f52c935edfcf07404a620c03d12a.v.smtcdns.net/203.205.136.12/play.cbalive.weibisai.com/live/3836512318216061_AiSD.m3u8?txSecret=3351a4de44beddb39eea21fce0eff777&txTime=67C939E0',
'58OYGjpOoK': 'https://5ca4f52c935edfcf07404a620c03d12a.v.smtcdns.net/203.205.136.12/play.cbalive.weibisai.com/live/3836512527768061_AiSD.m3u8?txSecret=bc5469c9cb4ae539f48bc1e8a6342555&txTime=67C939E0',
'SjQjn28n9V': 'https://i.kitescdnz.net/live/v1/9FtlgWvZZq1PyUGX8ECpF2XyqFMEH5Z93BG9h5uJ9XXv9HJ+PSmf57mK1vKMUp6-/index.m3u8',
'qA807gBopn': 'https://vt-osoi7r4b.sportcdn.live/live/live-1-4184613-0.m3u8?txSecret=66e4f99b4fc75ad8980aa59a2ea50336&txTime=67c88a3d',
'1dpSXwUg6s': 'https://thapcam.elutuna.workers.dev/20T56cr4tlHkkGiYwUBrug/Fv2lucGIbhPi2caWYvF5Lg/1741202075736/live/coHD/playlist.m3u8',
'H76BaZAASw': 'https://vt-osoi7r4b.sportcdn.live/live/live-1-4184614-0.m3u8?txSecret=dc54b3cd0938f6184259e5963c046340&txTime=67c88a3d',
'RxYEf0CXgL': 'https://i.kitescdnz.net/live/v1/rJursD2NXfASppcxYmFmoL2w0iicAe4Dl78qlxybbi2dwQTlX-DmIoUYoYoRyP5C/index.m3u8',
'RwiPlDD6A1': 'https://vt-osoi7r4b.sportcdn.live/live/live-1-4290599-2.m3u8?txSecret=5253f57755d27e329468cda72bcbea94&txTime=67c87565',
'ViWFPNfN2t': 'https://i.kitescdnz.net/live/v1/3UgDXXLslIbvgscxAIq0M-R5N3gdzZt7FAM2Xu-8AYnahF6irB8S-jAPjkhgBrG4/index.m3u8',
'P8gLtC5g9E': 'https://vt-osoi7r4b.sportcdn.live/live/live-1-4291182-2.m3u8?txSecret=a07f3fac28bfb3127fab730759c763c5&txTime=67c8ada1',
'vV9b31MXAA': 'https://rr4---sn-8pxuuxa-onon.applecdnstore.com/livetv/2024/UK_TNT_SPORTS_2/index.m3u8',
'njnPQGWdUO': 'https://punya.elutuna.workers.dev/kltraid.online309/playlist.m3u8',
'WJhwg0Y7Ud': 'https://vt-osoi7r4b.sportcdn.live/live/live-1-4291358-2.m3u8?txSecret=050541cc10bf357b4d23e0ab6e9c3aa0&txTime=67c8c642',
'KjlBIsHrnP': 'https://rr4---sn-8pxuuxa-onon.applecdnstore.com/livetv/2024/UK_TNT_SPORTS_2/index.m3u8',
'YlupG7wIWI': 'https://punya.elutuna.workers.dev/kltraid.online303/playlist.m3u8',
'3MdqLfdU6y': 'https://vt-osoi7r4b.sportcdn.live/live/live-1-4291354-2.m3u8?txSecret=b12aef171bb4858bc183e80c6489d323&txTime=67c8e61d',
'PMv60wmR7k': 'https://rr4---sn-8pxuuxa-onon.applecdnstore.com/livetv/2024/UK_TNT_SPORTS_3/index.m3u8',
'F3rpJxTbeX': 'https://punya.elutuna.workers.dev/kltraid.online410/playlist.m3u8',
'tUFuhKOrpC': 'https://vt-osoi7r4b.sportcdn.live/live/live-1-4291355-2.m3u8?txSecret=be0815afb7630b14d7c891175dcce9d4&txTime=67c8e5eb',
'FemhjW5wyO': 'https://rr4---sn-8pxuuxa-onon.applecdnstore.com/livetv/2024/UK_TNT_SPORTS_1/index.m3u8',
'n86sVDyFWV': 'https://punya.elutuna.workers.dev/kltraid.online309/playlist.m3u8',
'mSigzEttEv': 'https://vt-osoi7r4b.sportcdn.live/live/live-1-4291359-2.m3u8?txSecret=d201d5943f37a64cd07d14aedf6c1939&txTime=67c8e5eb',
'FdTjQ5SYDH': 'https://vt-osoi7r4b.sportcdn.live/live/live-1-4184612-0.m3u8?txSecret=eced1f67c309d2699e51f170586a61ad&txTime=67c89203',
'zhGeH7jh5V': 'https://i.kitescdnz.net/live/v1/fNJ6ykwuziVH-mBVcD36-2xXndTgWv0FIZFUaIP7p8ybmuF1M58gcL8cFBBkNPbZ/index.m3u8',
'wBu6h8lJK9': '',
'AvxEJrf0mn': '',
'WG48mRkMnA': '',
'iAzeMcSv6q': '',
'syasTP3T6b': '',
'jWc03AiNiV': '',
'E8ovgqK8Vt': '',
'WOsMSCNsKK': '',
'wfAkh0j76a': '',
'1A8Hhh5ZfO': '',
'g9WGVmkXBA': '',
'Vvv9Yl24eM': '',
'PqwfHVIKWk': '',
'RlzqWVhNmp': '',
'3oIqkNFx6v': '',
'zjEVxbrGd5': '',
'CRyD9nMni9': '',
'HS2aVNamkY': '',
'3lKdRBcC9Y': '',
'hEulJXOuIy': '',
'QofWW0D4rl': '',
'xGUsYg9fD3': '',
'KTjW6gGWpy': '',
'LzsSye2cxG': '',
'8UWTj5H74U': '',
'MmjCyQHNPa': '',
'1AFF9vLv9W': '',
'NtIpntQB1x': '',
'AOwKL0Fino': '',
'8LudIsqeEn': '',
'ZZtURmgRUd': '',
'9Ls4B3dxvk': '',
'OzsFt6vHOs': '',
'CFcqGM5cL5': '',
'AEVfIWPZsE': '',
'TZAIfhqcxW': '',
'ZSdOSI1xQ3': '',
'Kew7XGqPAB': '',
'Yk1aIc3ug8': '',
'DjP78SvtYS': '',
'urqkPOnAhY': '',
'YX1jov93Vt': '',
'TRqu6mRHar': '',
'EfCNcQ66rC': '',
<!-- Akhir Data -->
        };

        // URL Default jika key tidak memiliki URL
        const defaultM3U8 = 'https://www.streamkaltaraid.online/nostreams.m3u8';

        // Fungsi untuk mendapatkan parameter dari URL
        function getQueryParameter(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // Ambil parameter `key` dari URL
        const videoKey = getQueryParameter('key');
        let videoUrl = sources[videoKey];

        // Jika URL kosong atau tidak ditemukan, gunakan default M3U8
        let isDefaultM3U8 = false;
        if (!videoUrl) {
            videoUrl = defaultM3U8;
            isDefaultM3U8 = true; // Menandai bahwa video yang diputar adalah default
        }

        if (videoUrl.includes('.m3u8')) { 
            // Tampilkan Clappr Player untuk M3U8
            document.getElementById('player').classList.remove('hidden');

            // Konfigurasi player
            var playerOptions = {
                source: videoUrl,
                height: '100%',
                width: '100%',
                loop: isDefaultM3U8, // Loop hanya jika defaultM3U8
                autoPlay: isDefaultM3U8, // Autoplay hanya jika defaultM3U8
                plugins: [LevelSelector],
                mediacontrol: { seekbar: '#014AFF', buttons: '#FFF' },
	    	playback: { hlsjsConfig: { startPosition: -1 } },
                mimeType: "application/x-mpegURL"
            };

            // Hanya tambahkan poster jika BUKAN default M3U8
            if (!isDefaultM3U8) {
                playerOptions.poster = 'https://www.streamkaltaraid.online/images/poster1.png';
            }

            var player = new Clappr.Player(playerOptions);
            player.attachTo(document.getElementById("player"));

            // Fungsi untuk mengubah orientasi ke landscape saat fullscreen
            player.on(Clappr.Events.PLAYER_FULLSCREEN, function() {
                if (screen.orientation && screen.orientation.lock) {
                    screen.orientation.lock('landscape').catch(function(error) {
                        console.error('Orientation lock failed:', error);
                    });
                }
            });

            // Kembalikan orientasi saat keluar dari fullscreen
            player.on(Clappr.Events.PLAYER_EXIT_FULLSCREEN, function() {
                if (screen.orientation && screen.orientation.unlock) {
                    screen.orientation.unlock();
                }
            });

            // Event handling untuk error dan mencoba ulang pemutaran video
            player.on(Clappr.Events.PLAYER_ERROR, function() {
                console.error('Error occurred while playing the video. Retrying...');
                setTimeout(function() {
                    player.load({ source: videoUrl });
                    player.play();
                }, 5000);
            });

        } else {
            // Tampilkan Iframe untuk selain M3U8
            document.getElementById('videoIframe').classList.remove('hidden');
            document.getElementById('videoIframe').src = videoUrl;
        }

        window.addEventListener('load', function() {
            disableDevtool();
        });
	    
    </script>
	
</body>
</html>
